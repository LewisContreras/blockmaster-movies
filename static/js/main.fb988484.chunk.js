(this["webpackJsonpblockmaster-movies"]=this["webpackJsonpblockmaster-movies"]||[]).push([[0],{282:function(e,t,a){"use strict";a.r(t);var r=a(2),o=a(55),i=a.n(o),c=a(28),n=a(70),s=a(128);const l={login:"[Auth] Login",logout:"[Auth Logout]",uiSetError:"[UI] set Error",uiRemoveError:"[UI] Remove Error",uiStartLoading:"[UI] start loading",uiFinishLoadig:"[UI] finish loading",mvSelected:"[MV] movie selected",mvSearch:"[MV] movie to search",mvModal:"[MV] movie modal",mvLastDoc:"[MV] last query movie",mvTrailer:"[MV] movie tailer",crSearch:"[CR] crud search movie"};var d=a(11);const b={search:"Todas",selected:[],modal:null,last:null,trailer:null},j={loading:!1,msjError:null},p={search:""},u=Object(n.b)({auth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.login:return{uid:t.payload.uid,name:t.payload.displayName};case l.logout:return{};default:return e}},ui:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.uiSetError:return Object(d.a)(Object(d.a)({},e),{},{msjError:t.payload});case l.uiRemoveError:return Object(d.a)(Object(d.a)({},e),{},{msjError:null});case l.uiStartLoading:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case l.uiFinishLoadig:return Object(d.a)(Object(d.a)({},e),{},{loading:!1});default:return e}},movies:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.mvSelected:return Object(d.a)(Object(d.a)({},e),{},{selected:t.payload});case l.mvSearch:return Object(d.a)(Object(d.a)({},e),{},{search:t.payload});case l.mvModal:return Object(d.a)(Object(d.a)({},e),{},{modal:t.payload});case l.mvLastDoc:return Object(d.a)(Object(d.a)({},e),{},{last:t.payload});case l.mvTrailer:return Object(d.a)(Object(d.a)({},e),{},{trailer:t.payload});default:return e}},crud:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type===l.crSearch?Object(d.a)(Object(d.a)({},e),{},{search:t.payload}):e}}),m="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.c,h=Object(n.d)(u,m(Object(n.a)(s.a)));var x=a(10);var g=Object(c.b)({styles:{global:{body:{bg:"#0F0E17",color:"#FFFFFE"}}},colors:{brand:{primary:"#FED941",secondary:"#A7A9BE",black:"#000000",black_1:"#111111",background:"#0F0E17",white:"#FFFFFE"}},textStyles:{h1:{fontSize:"46px",fontWeight:800,lineHeight:"56px",letterSpacing:"0.15%"},h2:{fontSize:"48px",fontWeight:700,lineHeight:"58px",letterSpacing:"0.15%"},h3:{fontSize:"37px",fontWeight:700,lineHeight:"37px"},h4:{fontSize:"30px",fontWeight:600,lineHeight:"34px"},h5:{fontSize:"30px",fontWeight:600,lineHeight:"26px"}}}),O=a(137),v=a(34),f=a(21),y=a(69);a(177),a(178);y.a.initializeApp({apiKey:"AIzaSyB9S_iSvgObdK4pSzInpBh8tADyQMKXV28",authDomain:"blockmaster-199804.firebaseapp.com",projectId:"blockmaster-199804",storageBucket:"blockmaster-199804.appspot.com",messagingSenderId:"104763307554",appId:"1:104763307554:web:448f6ffd599702b96c3c7b"});const C=y.a.firestore(),w=new y.a.auth.GoogleAuthProvider,_=(e,t)=>a=>y.a.auth().signInWithEmailAndPassword(e,t).then((e=>{let{user:t}=e;a({type:l.uiStartLoading}),a(S(t.uid,t.displayName))})).catch((e=>{console.log(e)})),S=(e,t)=>({type:l.login,payload:{uid:e,displayName:t}}),E=()=>({type:l.logout});var k=a(35),D=a(30),A=a(12),I=a(51),R=a(17),q=a(26),N=a(40),L=a(50),M=a(5);const B=e=>{let{error:t}=e;return t?Object(M.jsx)(A.a,{children:t}):null},P=e=>{let{name:t,type:a,placeholder:r,formik:o}=e;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(L.a,{type:a,borderColor:"brand.primary",placeholder:r,name:t,value:o.values[t],onChange:o.handleChange,onBlur:o.handleBlur,isInvalid:o.touched[t]&&!!o.errors[t]}),Object(M.jsx)(B,{error:o.errors[t]})]})};var U=function(){const e=Object(x.b)(),{loading:t}=Object(x.c)((e=>e.ui)),a=Object(I.a)({initialValues:{email:"",password:""},validationSchema:R.b({email:R.d().email("Debe ser un correo v\xe1lido").required("El correo es obligatorio"),password:R.d().required("La contrase\xf1a es obligatoria")}),onSubmit:t=>{const{email:a,password:r}=t;e(_(a,r))}});return Object(M.jsx)(A.b,{h:"100vh",children:Object(M.jsxs)(A.a,{borderRadius:"10px",p:"1px",w:"350px",bgColor:"brand.primary",children:[Object(M.jsx)(A.b,{h:"120px",borderRadius:"10px 10px 0 0",children:Object(M.jsx)(D.a,{src:"https://i.imgur.com/pwIYVhf.png",alt:"Logo de Blockmaster"})}),Object(M.jsxs)(A.h,{as:"form",onSubmit:a.handleSubmit,className:"scene_element scene_element--clipmidup",p:"10px",h:"340px",borderRadius:"0 0 10px 10px",spacing:"15px",bgColor:"#14112e",children:[Object(M.jsx)(A.g,{my:"10px",fontWeight:"600",fontSize:"xl",children:"Ingresa con correo y contrase\xf1a"}),Object(M.jsx)(P,{name:"email",type:"email",placeholder:"Email",formik:a}),Object(M.jsx)(P,{name:"password",type:"password",placeholder:"Password",formik:a}),Object(M.jsx)(k.a,{disabled:t,type:"submit",bgColor:"#3C5EEA",isLoading:t,children:"Entrar"}),Object(M.jsxs)(A.e,{onClick:()=>{e((e=>{y.a.auth().signInWithPopup(w).then((t=>{let{user:a}=t;e(S(a.uid,a.displayName)),console.log(a)}))}))},cursor:"pointer",px:"6px",borderRadius:"10px",bgColor:"white",h:"40px",width:"100%",children:[Object(M.jsx)(N.a,{as:q.b,fontSize:"20px",color:"#3C5EEA"}),Object(M.jsx)(A.g,{fontWeight:"600",textAlign:"center",width:"100%",color:"black",children:"Ingresa con Google"})]}),Object(M.jsx)(A.f,{to:"/auth/register",as:v.b,children:"\xbfNo est\xe1s registrado?"})]})]})})};a(66);function z(){const e=Object(x.b)(),t=Object(I.a)({initialValues:{name:"",email:"",password:"",password2:""},validationSchema:R.b({name:R.d().required("Nombre requerido"),email:R.d().email("Email inv\xe1lido").required("Email requerido"),password:R.d().min(6,"La contrase\xf1a debe tener al menos 6 caracteres").required("Contrase\xf1a requerida"),password2:R.d().oneOf([R.c("password"),null],"Las contrase\xf1as deben coincidir").required("Confirmar contrase\xf1a es requerido")}),onSubmit:t=>{const{name:a,email:r,password:o}=t;e(((e,t,a)=>r=>{y.a.auth().createUserWithEmailAndPassword(e,t).then((async e=>{let{user:t}=e;await t.updateProfile({displayName:a}),r(S(t.uid,t.displayName)),console.log(t)})).catch((e=>{console.log(e)}))})(r,o,a))}});return Object(M.jsx)(A.b,{h:"100vh",children:Object(M.jsxs)(A.a,{w:"350px",borderRadius:"10px",padding:"14px",bgColor:"brand.primary",p:"1px",children:[Object(M.jsx)(A.b,{h:"120px",borderRadius:"10px 10px 0 0",children:Object(M.jsx)(D.a,{src:"https://i.imgur.com/pwIYVhf.png"})}),Object(M.jsxs)(A.h,{as:"form",onSubmit:t.handleSubmit,minH:"340px",className:"scene_element scene_element--clipmidup",spacing:"10px",p:"10px",borderRadius:"0 0 10px 10px",bgColor:"#14112e",children:[Object(M.jsx)(A.g,{fontSize:"xl",fontWeight:"600",children:"Reg\xedstrate"}),Object(M.jsx)(P,{name:"name",type:"text",placeholder:"Name",formik:t}),Object(M.jsx)(P,{name:"email",type:"email",placeholder:"Email",formik:t}),Object(M.jsx)(P,{name:"password",type:"password",placeholder:"Password",formik:t}),Object(M.jsx)(P,{name:"password2",type:"password",placeholder:"Confirm Password",formik:t}),Object(M.jsx)(k.a,{type:"submit",bgColor:"#3C5EEA",children:"Entrar"}),Object(M.jsx)(A.f,{to:"/auth/login",as:v.b,children:"\xbfYa est\xe1s registrado?"})]})]})})}const F=()=>Object(M.jsx)("div",{className:"auth__main",children:Object(M.jsx)("div",{className:"auth__box-container",children:Object(M.jsxs)(f.d,{children:[Object(M.jsx)(f.b,{exact:!0,path:"/auth/login",component:U}),Object(M.jsx)(f.b,{exact:!0,path:"/auth/register",component:z}),Object(M.jsx)(f.a,{to:"/auth/login"})]})})});var V=a(62);const W=["isAuthenticated","component"],T=e=>{let{isAuthenticated:t,component:a}=e,r=Object(V.a)(e,W);return Object(M.jsx)(f.b,Object(d.a)(Object(d.a)({},r),{},{component:e=>t?Object(M.jsx)(a,Object(d.a)({},e)):Object(M.jsx)(f.a,{to:"/auth/login"})}))},H=["isAuthenticated","component"],Y=e=>{let{isAuthenticated:t,component:a}=e,r=Object(V.a)(e,H);return Object(M.jsx)(f.b,Object(d.a)(Object(d.a)({},r),{},{component:e=>t?Object(M.jsx)(f.a,{to:"/"}):Object(M.jsx)(a,Object(d.a)({},e))}))},G=e=>({type:l.mvSearch,payload:e}),K=e=>async(t,a)=>{const r=a().movies.last,o=a().movies.selected,{movies:i,last:c}=await(async(e,t,a)=>{let r=[...t];if("Todas"===e)r=[],await C.collection("movies").orderBy("nameMovie").get().then((e=>{a=e.docs[e.docs.length-1].id,e.forEach((e=>{r.push(Object(d.a)({id:e.id},e.data()))}))})).catch((e=>console.log(e)));else if("M\xe1s valoradas"===e)r=[],await C.collection("movies").where("calification",">=",7).orderBy("calification","desc").get().then((e=>{e.forEach((e=>{r.push(Object(d.a)({id:e.id},e.data()))}))}));else if("Menos valoradas"===e)r=[],await C.collection("movies").where("calification","<=",7).orderBy("calification","desc").get().then((e=>{e.forEach((e=>{r.push(Object(d.a)({id:e.id},e.data()))}))}));else{r=[];let t=e.toUpperCase();await C.collection("movies").where("nameMovie","==",t).get().then((e=>{e.forEach((e=>{r.push(Object(d.a)({id:e.id},e.data()))}))})).catch((e=>console.log(e)))}return{movies:r,last:a}})(e,o,r);t(Q(c)),t(Z(i))},Z=e=>({type:l.mvSelected,payload:e}),J=e=>({type:l.mvModal,payload:e}),Q=e=>({type:l.mvLastDoc,payload:e}),X=e=>({type:l.mvTrailer,payload:e}),$=["Todas","M\xe1s valoradas","Menos valoradas"],ee=()=>{const e=Object(x.b)(),t=t=>{let a=t.target.textContent;e(Q(null)),e(G(a)),e(K(a)),window.scrollTo({top:380,behavior:"smooth"});let r=document.querySelectorAll(".nav-category");for(let e of r)e.textContent===t.target.textContent?(e.style.color="#FED941",e.style.borderBottom="2px solid #FED941"):(e.style.color="white",e.style.border="none")};return Object(M.jsx)(A.e,{minWidth:["300px","300px","300px","400px"],justifyContent:"space-evenly",spacing:[4,10,2,10],py:["10px","10px","0"],children:$.map(((e,a)=>Object(M.jsx)(A.g,{className:"nav-category",fontWeight:"600",onClick:t,cursor:"pointer",children:e},a)))})};var te=a(136);const ae=()=>{const e=Object(x.b)();return Object(M.jsx)(N.a,{position:["absolute","absolute","relative"],top:["20px","20px","0"],right:["20px","20px","0"],fontSize:"30px",color:"red",cursor:"pointer",onClick:()=>e((async e=>{await y.a.auth().signOut(),e(E())})),as:te.a})},re=()=>{const e=Object(r.useRef)(""),t=Object(x.b)();return Object(M.jsxs)(L.b,{width:["90%","90%","100%"],children:[Object(M.jsx)(L.c,{onClick:()=>{let a=e.current.value;t(Q(null)),t(G(a)),t(K(a)),window.scrollTo({top:320,behavior:"smooth"});let r=document.querySelectorAll(".nav-category");for(let e of r)e.style.color="white",e.style.border="none";e.current.value=""},cursor:"pointer",backgroundColor:"brand.primary",width:["72px","72px","32px","72px"],borderRadius:"0 10px 10px 0",children:Object(M.jsx)(q.f,{color:"black"})}),Object(M.jsx)(L.a,{ref:e,color:"brand.black",border:"2px solid",borderColor:"brand.primary",borderRadius:"10px",backgroundColor:"brand.white",type:"tel",placeholder:"Busca tu pel\xedcula favorita"})]})},oe=()=>{const e=Object(f.g)();return Object(M.jsx)(A.b,{h:"40px",px:"10px",borderRadius:"10px",bgColor:"brand.primary",cursor:"pointer",fontWeight:"600",color:"brand.background",onClick:()=>e.push("/crud"),children:"CRUD"})};var ie=function(){const e=Object(x.b)(),t=Object(x.c)((e=>e.movies.search)),a=Object(x.c)((e=>e.auth.uid)),o=Object(r.useRef)(!1);return Object(r.useEffect)((()=>{o.current||(e(G(t)),e(K(t)),o.current=!0)}),[e,t]),Object(M.jsxs)(A.c,{flexDir:["column","column","row"],position:["relative","relative","fixed"],top:"0",pt:["10px","10px","0"],width:"100%",px:["20px","40px"],h:["auto","auto","112px"],backgroundColor:"brand.background",zIndex:"100",alignItems:"center",gap:"4",children:[Object(M.jsx)(D.a,{src:"https://i.imgur.com/pwIYVhf.png",alt:"Logo de Blockmaster"}),Object(M.jsx)(ee,{}),Object(M.jsx)(re,{}),Object(M.jsx)(ae,{}),"YqytjPvZEjZlipiSyvB43piByUn2"===a&&Object(M.jsx)(oe,{})]})};var ce=function(){return Object(M.jsxs)(A.b,{mb:"20px",flexDirection:"column",children:[Object(M.jsx)(D.a,{src:"https://i.imgur.com/gJYLZ6P.png",alt:"Imagen que indica que nada ha sido encontrado"}),Object(M.jsx)(A.g,{children:"No se han encontrado similitudes para su b\xfasqueda"})]})};const ne=e=>{let{movie:t}=e;const a=Object(x.b)();return Object(M.jsx)(A.a,{onClick:()=>(e=>{a(J(e))})(t),position:"relative",backgroundPosition:"center",borderRadius:"10px",backgroundSize:"cover",cursor:"pointer",backgroundImage:t.imageUrl,w:["150px","220px"],h:["225px","330px"],children:Object(M.jsxs)(A.b,{bgColor:"rgba(0,0,0,0.5)",color:"brand.primary",px:"30px",position:"absolute",height:"64px",top:"40px",border:"2px solid",borderLeft:"none",borderRadius:"0 32px 32px 0",borderColor:"brand.primary",children:[Object(M.jsx)(N.b,{mr:"10px",as:q.g}),Object(M.jsx)(A.g,{color:"brand.white",children:t.calification.toFixed(1)})]})})};var se=function(){const e=Object(x.c)((e=>e.movies.selected));return e.length?Object(M.jsx)(A.d,{pb:"70px",className:"scene_element scene_element--fadeinup",templateColumns:["repeat(auto-fill,150px)","repeat(auto-fill,220px)"],gap:["5px","10px"],px:["0","30px"],mt:"20px",justifyContent:["space-evenly","space-between"],children:e.map(((e,t)=>Object(M.jsx)(ne,{movie:e},t)))}):Object(M.jsx)(ce,{})},le=a(84),de=a(57),be=a.n(de);var je=function(){const e=Object(x.c)((e=>e.movies.modal)),t=Object(x.c)((e=>e.auth.uid)),a=Object(x.b)();return e?Object(M.jsx)(A.c,{className:"scene_element scene_element--fadein",justifyContent:"center",bgColor:"rgba(15,14,23,0.9)",position:"fixed",top:"0",width:"100vw",h:"100vh",p:["0","40px"],zIndex:"100",children:Object(M.jsxs)(A.e,{flexDir:["column","row"],pt:["80px","0"],position:"relative",spacing:"30px",maxWidth:"700px",children:[Object(M.jsx)(D.a,{h:"330px",width:"220px",src:e.imageUrl,alt:"Hard Kill"}),Object(M.jsx)(N.b,{onClick:()=>a(J(null)),cursor:"pointer",fontSize:"30px",top:"40px",right:"40px",position:"absolute",as:le.a}),Object(M.jsxs)(A.h,{pt:3,spacing:3,alignItems:"start",children:[Object(M.jsx)(A.g,{fontWeight:"600",fontSize:"xl",children:e.nameMovie}),Object(M.jsx)(A.g,{children:e.description}),Object(M.jsx)(A.g,{children:"".concat(e.year," * ").concat(e.genre," * ").concat(Math.floor(e.duration/60),"h ").concat(e.duration%60,"min")}),Object(M.jsxs)(A.e,{children:[Object(M.jsx)(k.a,{disabled:!0,leftIcon:Object(M.jsx)(q.d,{}),color:"brand.black",bgColor:"brand.primary",children:"VER AHORA"}),Object(M.jsx)(k.a,{leftIcon:Object(M.jsx)(q.e,{}),border:"2px solid",borderColor:"brand.primary",color:"brand.primary",bgColor:"brand.background",onClick:()=>(e=>{let a=Object(d.a)({},e);delete a.id,C.collection("".concat(t,"/movies/verdespues")).add(a),be.a.fire({icon:"success",title:"!Genial!",text:"La pel\xedcula ha sido agregada a tu lista"})})(e),children:"VER DESPU\xc9S"})]})]})]})}):Object(M.jsx)(A.a,{display:"none"})},pe=a(289),ue=a(287),me=a(288),he=a(285),xe=a(286);a(281);const ge=[{url:"https://i.imgur.com/HjNNUVp.png",alt:"Imagen de la pelicula Mulan",moviePath:"v1624650554/MUL%C3%81N_Tr%C3%A1iler_Espa%C3%B1ol_DOBLADO_2_Nuevo_2020_Disney_kemb9g.mp4"},{url:"https://i.imgur.com/WmJVBQB.png",alt:"Imagen de la pelicula Raya y el u\u0301ltimo drago\u0301n",moviePath:"v1624650574/RAYA_Y_EL_%C3%9ALTIMO_DRAG%C3%93N_Tr%C3%A1iler_Espa%C3%B1ol_Latino_DOBLADO_2_Disney_2021_NUEVO_ap7wgc.mp4"},{url:"https://i.imgur.com/tmGy9lQ.png",alt:"Imagen de la pelicula Unidos de Disney y Pixar",moviePath:"v1624650573/Unidos_de_Disney_y_Pixar_Tr%C3%A1iler_oficial_1_Subtitulado_mxnywn.mp4"},{url:"https://i.imgur.com/zytsah1.jpeg",alt:"Imagen de la pelicula WALL-E",moviePath:"v1624650590/WALL_E_2008_Tra%C3%ADler_Oficial_Doblado_Latino_-_Clasicos_de_Pixar_e7iblo.mp4"},{url:"https://i.imgur.com/YnqRzkn.jpeg",alt:"Imagen de la pelicula Kung Fu Panda",moviePath:"https://res.cloudinary.com/dfx4uggfe/video/upload/v1624650490/Kung_Fu_Panda_-_Trailer_Espa%C3%B1ol_HD_e5cpcs.mp4"}];me.a.use([he.a,xe.a]);var Oe=function(){const e=Object(x.b)();return Object(M.jsx)(A.a,{height:["220px","220px","400px"],px:"20px",mt:["10px","10px","120px"],children:Object(M.jsx)(pe.a,{spaceBetween:8,navigation:!0,pagination:!0,children:ge.map(((t,a)=>Object(M.jsx)(ue.a,{children:Object(M.jsxs)(A.a,{height:["200px","200px","360px"],position:"relative",children:[Object(M.jsx)(D.a,{borderRadius:"10px",width:"100%",height:"100%",src:t.url,alt:t.alt}),Object(M.jsxs)(A.e,{position:"absolute",bottom:"20px",left:"20px",children:[Object(M.jsx)(k.a,{leftIcon:Object(M.jsx)(q.d,{}),color:"brand.black",bgColor:"brand.primary",onClick:()=>e(X("https://res.cloudinary.com/dfx4uggfe/video/upload/".concat(t.moviePath))),children:"VER AHORA"}),Object(M.jsx)(k.a,{disabled:!0,leftIcon:Object(M.jsx)(q.e,{}),border:"2px solid",borderColor:"brand.primary",color:"brand.primary",bgColor:"brand.background",children:"VER DESPU\xc9S"})]})]})},a)))})})};var ve=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.movies.trailer));return t?Object(M.jsxs)(A.b,{className:"scene_element scene_element--fadeinright",bgColor:"brand.background",position:"fixed",top:"0",h:"100vh",width:"100vw",zIndex:"200",children:[Object(M.jsx)(N.a,{position:"absolute",cursor:"pointer",top:"30px",left:"40px",fontSize:"30px",onClick:async t=>e(X(null)),as:q.a}),Object(M.jsx)(A.a,{as:"iframe",src:"".concat(t),width:"80%",height:["200px","300px","400px","80%"],allowFullScreen:!0})]}):Object(M.jsx)(A.a,{display:"none",className:"scene_element scene_element--fadeinleft"})};var fe=()=>{const e=Object(x.c)((e=>e.movies.search)),t=Object(x.c)((e=>e.movies.selected));let a="";return a=""===e||e&&!t.length?"":"Todas"===e?e+" las pel\xedculas":"M\xe1s valoradas"===e||"Menos valoradas"===e?"Pel\xedculas "+e.toLowerCase():'"'.concat(e,'"'),Object(M.jsx)(A.a,{px:"22px",py:"14px",fontSize:"3xl",fontWeight:"600",children:a})};var ye=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ie,{}),Object(M.jsx)(Oe,{}),Object(M.jsx)(fe,{}),Object(M.jsx)(se,{}),Object(M.jsx)(je,{}),Object(M.jsx)(ve,{})]})};const Ce=e=>({type:l.crSearch,payload:e}),we=async e=>{const t=new FormData;t.append("upload_preset","journal-app"),t.append("file",e);try{const e=await fetch("https://api.cloudinary.com/v1_1/dfx4uggfe/image/upload",{method:"POST",body:t});if(e.ok){const t=await e.json();return console.log(t),t.secure_url}throw await e.json()}catch(a){throw a}};var _e=a(59),Se=a(127);const Ee=e=>{let{formik:t,handleNewImage:a,handleDelete:r}=e;const o=Object(x.b)();return Object(M.jsx)(A.b,{className:"scene_element scene_element--fadein",position:"fixed",zIndex:"100",w:"100vw",h:"100vh",top:"0",as:"form",bgColor:"rgba(15,14,23,0.9)",p:"10px",onSubmit:t.handleSubmit,children:Object(M.jsxs)(A.a,{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"10px",bgColor:"brand.background",border:"4px solid",borderColor:"brand.primary",height:"500px",children:[Object(M.jsx)(A.a,{position:"absolute",top:"20px",cursor:"pointer",borderRadius:"4px",bgColor:"red",right:"20px",onClick:()=>o(Ce("")),children:Object(M.jsx)(N.a,{color:"white",fontSize:"30px",as:le.a})}),Object(M.jsxs)(A.e,{className:"scene_element scene_element--fadeinright",px:"10px",spacing:10,children:[Object(M.jsxs)(A.h,{width:"250px",children:[Object(M.jsx)(_e.a,{children:Object(M.jsx)(P,{name:"nameMovie",type:"text",placeholder:"Nombre",formik:t})}),Object(M.jsx)(D.a,{id:"image-element",height:"240px",src:t.values.imageUrl}),Object(M.jsx)(k.a,{colorScheme:"teal",onClick:()=>document.getElementById("update-image-input").click(),children:"Cambiar foto"}),Object(M.jsx)(L.a,{id:"update-image-input",display:"none",type:"file",onChange:e=>a(e.target.files[0],t.setFieldValue)})]}),Object(M.jsxs)(A.h,{alignItems:"start",width:"400px",children:[Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(_e.b,{children:"Descripci\xf3n"}),Object(M.jsx)(Se.a,{name:"description",placeholder:"Descripci\xf3n",borderColor:"brand.primary",value:t.values.description,onChange:t.handleChange,isInvalid:t.touched.description&&!!t.errors.description})]}),Object(M.jsxs)(A.e,{spacing:10,children:[Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(_e.b,{children:"Calificaci\xf3n"}),Object(M.jsx)(P,{name:"calification",type:"number",placeholder:"Calificaci\xf3n",formik:t})]}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(_e.b,{children:"A\xf1o"}),Object(M.jsx)(P,{name:"year",type:"number",placeholder:"A\xf1o",formik:t})]})]}),Object(M.jsxs)(A.e,{spacing:8,children:[Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(_e.b,{children:"G\xe9nero"}),Object(M.jsx)(P,{name:"genre",type:"text",placeholder:"G\xe9nero",formik:t})]}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(_e.b,{children:"Duraci\xf3n"}),Object(M.jsx)(P,{name:"duration",type:"number",placeholder:"Duraci\xf3n",formik:t})]})]})]})]}),Object(M.jsxs)(A.e,{mt:"20px",children:[Object(M.jsx)(k.a,{colorScheme:"red",onClick:r,children:"Eliminar"}),Object(M.jsx)(k.a,{type:"submit",colorScheme:"teal",children:"Actualizar"})]})]})})},ke=e=>{let{movie:t}=e;const a=Object(x.b)(),r=Object(I.a)({initialValues:{nameMovie:t.nameMovie,description:t.description,calification:t.calification,year:t.year,genre:t.genre,duration:t.duration,imageUrl:t.imageUrl},validationSchema:R.b({nameMovie:R.d().required("El nombre es obligatorio"),description:R.d().required("La descripci\xf3n es obligatoria"),calification:R.a().min(0,"Debe ser al menos 0").max(10,"Debe ser como m\xe1ximo 10").required("La calificaci\xf3n es obligatoria"),year:R.a().min(1900,"A\xf1o no v\xe1lido").max((new Date).getFullYear(),"A\xf1o no v\xe1lido").required("El a\xf1o es obligatorio"),genre:R.d().required("El g\xe9nero es obligatorio"),duration:R.a().min(1,"Debe ser al menos 1").required("La duraci\xf3n es obligatoria")}),onSubmit:async e=>{await C.doc("movies/".concat(t.id)).update(e),be.a.fire({icon:"success",title:"!Bien!",text:"Ha sido actualizado"}),a(Ce(""))}});return Object(M.jsx)(Ee,{formik:r,handleNewImage:async(e,t)=>{t("imageUrl",await we(e))},handleDelete:async()=>{await C.doc("movies/".concat(t.id)).delete(),be.a.fire({icon:"success",title:"!Genial\xa1",text:"Ha sido eliminada correctamente"}),a(Ce([]))}})};var De=()=>{const e=Object(x.c)((e=>e.crud.search));return Object(M.jsx)(A.a,{children:e.length?e.map((e=>Object(M.jsx)(ke,{movie:e},e.id))):Object(M.jsx)(A.g,{})})};const Ae=e=>{let{formik:t,handleReset:a,handleImage:r}=e;return Object(M.jsx)(A.c,{mt:"20px",justifyContent:"center",children:Object(M.jsx)(A.a,{maxWidth:"500px",mb:"20px",borderRadius:"10px",p:"20px",bgColor:"whiteAlpha.300",children:Object(M.jsxs)(A.a,{as:"form",onSubmit:e=>{t.handleSubmit(),a(e)},children:[Object(M.jsx)(A.g,{textAlign:"center",fontSize:"2xl",color:"brand.primary",children:"Agrega una nueva pel\xedcula"}),Object(M.jsxs)(A.h,{spacing:"20px",children:[Object(M.jsxs)(_e.a,{id:"movie-name",children:[Object(M.jsx)(_e.b,{children:"Nombre *"}),Object(M.jsx)(L.a,{type:"text",name:"nameMovie",value:t.values.nameMovie,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.nameMovie})]}),Object(M.jsxs)(_e.a,{id:"movie-description",children:[Object(M.jsx)(_e.b,{children:"Descripci\xf3n *"}),Object(M.jsx)(Se.a,{height:"fit-content",name:"description",value:t.values.description,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.description})]}),Object(M.jsxs)(_e.a,{id:"movie-genre",children:[Object(M.jsx)(_e.b,{children:"G\xe9nero *"}),Object(M.jsx)(L.a,{type:"text",name:"genre",value:t.values.genre,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.genre})]}),Object(M.jsxs)(_e.a,{id:"movie-image",children:[Object(M.jsx)(_e.b,{children:"Imagen *"}),Object(M.jsx)(L.a,{type:"file",name:"duration",onChange:r}),Object(M.jsx)(B,{error:t.errors.imageUrl})]}),Object(M.jsxs)(A.e,{alignItems:"start",spacing:"20px",children:[Object(M.jsxs)(_e.a,{id:"movie-year",children:[Object(M.jsx)(_e.b,{children:"A\xf1o *"}),Object(M.jsx)(L.a,{type:"number",name:"year",value:t.values.year,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.year})]}),Object(M.jsxs)(_e.a,{id:"movie-calification",children:[Object(M.jsx)(_e.b,{children:"Calificaci\xf3n *"}),Object(M.jsx)(L.a,{type:"number",step:"0.1",name:"calification",value:t.values.calification,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.calification})]}),Object(M.jsxs)(_e.a,{id:"movie-duration",children:[Object(M.jsx)(_e.b,{children:"Duraci\xf3n *"}),Object(M.jsx)(L.a,{type:"number",name:"duration",value:t.values.duration,onChange:t.handleChange}),Object(M.jsx)(B,{error:t.errors.duration})]})]}),Object(M.jsx)(k.a,{type:"submit",bgColor:"blackAlpha.600",width:"60%",children:"Enviar"})]})]})})})};var Ie=()=>{const e=Object(I.a)({initialValues:{nameMovie:"",description:"",genre:"",year:0,calification:0,duration:0,imageUrl:""},validationSchema:R.b({nameMovie:R.d().min(1,"Debe tener al menos 1 caracter").required("Este campo es requerido"),description:R.d().max(300,"Puede tener como m\xe1ximo 300 caracteres").min(50,"Debe tener como minimo 50 caracteres").required("Este campo es requerido"),genre:R.d().max(15,"Debe tener 15 caracteres o menos").min(1,"Debe tener al menos 1 caracter").required("Este campo es requerido"),imageUrl:R.d().min(1,"Debe elegir una imagen").required("requerido"),year:R.a().min(1800,"Debe ser amyor a 1800").max(2022,"Debe ser menor a 2023").required("Requerido"),calification:R.a().min(0,"Debe ser mayor a 0").max(10,"Debe ser menor a 10").required("Requerido"),duration:R.a().min(20,"Debe ser mayor a 20").max(600,"Debe ser menor a 600").required("Requerido")}),validateOnChange:e=>{console.log(e)},onSubmit:e=>{e.nameMovie=e.nameMovie.toUpperCase(),C.collection("movies").add(e),be.a.fire({icon:"success",title:"!Genial!",text:"Se ha agregado la pel\xedcula"})}});return Object(M.jsx)(Ae,{formik:e,handleImage:async t=>{let a=t.target.files[0];if(a){let t=await we(a);console.log(t),e.values.imageUrl=t}},handleReset:e=>{e.preventDefault(),e.target.reset()}})};const Re=()=>{const e=Object(x.b)(),t=Object(f.g)();return Object(M.jsx)(N.a,{cursor:"pointer",mx:"10px",fontSize:"20px",color:"brand.primary",as:q.c,onClick:()=>{e(Ce("")),t.goBack()}})};var qe=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.crud.search)),a=Object(r.useRef)("");return Object(M.jsxs)(A.a,{py:"20px",maxWidth:"70%",mx:"auto",children:[Object(M.jsxs)(A.e,{children:[Object(M.jsx)(Re,{}),Object(M.jsx)(L.a,{ref:a,type:"text",placeholder:"Nombre de la pel\xedcula..."}),Object(M.jsx)(k.a,{bgColor:"brand.primary",onClick:async()=>{let t=a.current.value.toUpperCase(),r=[];await C.collection("movies").where("nameMovie","==",t).get().then((e=>{e.forEach((e=>{r.push(Object(d.a)({id:e.id},e.data()))}))})),e(Ce(r))},children:"Buscar"})]}),Object(M.jsx)(A.g,{px:"50px",children:0===t.length&&Array.isArray(t)?"No hay resultados para tu b\xfasqueda":null})]})};var Ne=()=>Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(qe,{}),Object(M.jsx)(De,{}),Object(M.jsx)(Ie,{})]});const Le=["isAuthenticated","component","uid"],Me=e=>{let{isAuthenticated:t,component:a,uid:r}=e,o=Object(V.a)(e,Le);return Object(M.jsx)(f.b,Object(d.a)(Object(d.a)({},o),{},{component:e=>t&&"YqytjPvZEjZlipiSyvB43piByUn2"===r?Object(M.jsx)(a,Object(d.a)({},e)):Object(M.jsx)(f.a,{to:"/auth/login"})}))},Be=()=>{const[e,t]=Object(r.useState)(!0),[a,o]=Object(r.useState)(!1),i=Object(x.b)(),c=Object(x.c)((e=>e.auth.uid));return Object(r.useEffect)((()=>{O.a.auth().onAuthStateChanged((async e=>{null!==e&&void 0!==e&&e.uid?(i(S(e.uid,e.displayName)),o(!0)):o(!1),t(!1)}))}),[i,t]),e?Object(M.jsx)("h1",{children:"Cargando..."}):Object(M.jsx)(v.a,{children:Object(M.jsx)("div",{children:Object(M.jsxs)(f.d,{children:[Object(M.jsx)(Y,{path:"/auth",component:F,isAuthenticated:a}),Object(M.jsx)(T,{exact:!0,path:"/",component:ye,isAuthenticated:a}),Object(M.jsx)(Me,{exact:!0,path:"/crud",component:Ne,isAuthenticated:a,uid:c}),Object(M.jsx)(f.a,{to:"/auth/login"})]})})})};var Pe=function(){return Object(M.jsx)(x.a,{store:h,children:Object(M.jsx)(c.a,{theme:g,children:Object(M.jsx)(Be,{})})})};i.a.render(Object(M.jsx)(Pe,{}),document.getElementById("root"))},66:function(e,t,a){}},[[282,1,2]]]);
//# sourceMappingURL=main.fb988484.chunk.js.map